<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì—ì´ì½˜í™ëŒ€ ì‹¤ìŠµ ë·°ì–´ - Monaco Editor í†µí•©ë³¸</title>
    <style>
      /* [1. ì „ì—­ ìŠ¤íƒ€ì¼ ë° ë³€ìˆ˜] */
      :root {
        --sidebar-width: 320px;
        --header-bg: #1e293b;
        --primary-blue: #2563eb;
        --bg-light: #f1f5f9;
        --border-color: #cbd5e1;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          "Pretendard",
          -apple-system,
          sans-serif;
        height: 100vh;
        display: flex;
        flex-direction: column;
        background-color: var(--bg-light);
        overflow: hidden; /* ì „ì²´ ìŠ¤í¬ë¡¤ ë°©ì§€ */
      }

      /* [2. í—¤ë” ë””ìì¸] */
      header {
        background: var(--header-bg);
        color: white;
        padding: 1.2rem;
        text-align: center;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        z-index: 100;
      }

      main {
        display: flex;
        flex: 1;
        overflow: hidden;
      }

      /* [3. ì‚¬ì´ë“œë°” (íƒìƒ‰ê¸°) ìŠ¤íƒ€ì¼] */
      #sidebar {
        width: var(--sidebar-width);
        background: white;
        border-right: 1px solid var(--border-color);
        display: flex;
        flex-direction: column;
      }

      .sidebar-header {
        padding: 15px 20px;
        background: #f8fafc;
        font-weight: bold;
        font-size: 0.85rem;
        border-bottom: 1px solid var(--border-color);
        color: #475569;
      }

      #file-list-container {
        flex: 1;
        overflow-y: auto;
        padding: 10px 5px;
      }

      /* íŠ¸ë¦¬ êµ¬ì¡° ìŠ¤íƒ€ì¼ */
      details {
        margin-left: 12px;
        margin-top: 4px;
      }
      #file-list-container > details {
        margin-left: 0;
      }

      summary {
        padding: 8px;
        cursor: pointer;
        font-size: 0.9rem;
        list-style: none;
        display: flex;
        align-items: center;
        border-radius: 4px;
      }
      summary:hover {
        background: #f1f5f9;
      }
      summary::before {
        content: "ğŸ“";
        margin-right: 8px;
      }
      details[open] > summary::before {
        content: "ğŸ“‚";
      }

      .file-link {
        text-decoration: none;
        color: #64748b;
        display: flex;
        align-items: center;
        padding: 6px 10px 6px 30px;
        font-size: 0.85rem;
        border-radius: 4px;
        transition: 0.2s;
      }
      .file-link::before {
        content: "ğŸ“„";
        margin-right: 8px;
      }
      .file-link:hover {
        background: #eff6ff;
        color: var(--primary-blue);
      }
      .file-link.active {
        background: var(--primary-blue);
        color: white;
        font-weight: bold;
      }

      /* [4. ì˜¤ë¥¸ìª½ ì½˜í…ì¸  ì˜ì—­ (ë™ì  íƒ­ + ì—ë””í„°)] */
      #content-area {
        flex: 1;
        display: flex;
        flex-direction: column;
      }

      /* ë™ì ìœ¼ë¡œ ìƒì„±ë  íƒ­ ë°” ìŠ¤íƒ€ì¼ */
      .tab-bar {
        display: flex;
        background: #e2e8f0;
        padding: 8px 8px 0 8px;
        gap: 2px;
        overflow-x: auto;
      }

      .tab {
        padding: 10px 20px;
        background: #94a3b8;
        border-radius: 8px 8px 0 0;
        cursor: pointer;
        font-size: 0.85rem;
        font-weight: 600;
        color: #f8fafc;
        white-space: nowrap;
      }

      .tab.active {
        background: white;
        color: #1e293b;
      }

      .viewer-main {
        flex: 1;
        background: white;
        margin: 0 8px 8px 8px;
        border-radius: 0 0 8px 8px;
        position: relative;
        overflow: hidden;
        border: 1px solid var(--border-color);
      }

      #preview-pane,
      #editor-pane {
        width: 100%;
        height: 100%;
      }
      #editor-pane {
        display: none;
      }

      iframe {
        width: 100%;
        height: 100%;
        border: none;
      }

      .empty-msg {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
        color: #94a3b8;
        font-size: 1.1rem;
      }
    </style>
  </head>
  <body>
    <header><h1>ì—ì´ì½˜í™ëŒ€ì•„ì¹´ë°ë¯¸ ì‹¤ìŠµíŒŒì¼ ë·°ì–´</h1></header>

    <main>
      <nav id="sidebar">
        <div class="sidebar-header">ğŸ“‚ EXPLORER (Practice Logs)</div>
        <div id="file-list-container"></div>
      </nav>

      <section id="content-area">
        <div class="tab-bar" id="tab-bar"></div>

        <div class="viewer-main">
          <div id="preview-pane">
            <iframe
              name="viewer"
              id="main-iframe"
              style="display: none"
            ></iframe>
            <div id="no-selection" class="empty-msg">
              ì‹¤ìŠµ íŒŒì¼ì„ ì„ íƒí•´ ì£¼ì„¸ìš”.
            </div>
          </div>
          <div id="editor-pane"></div>
        </div>
      </section>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/loader.js"></script>
    <script>
      /**
       * [diaryData]
       * (ë°ì´í„° ì‚½ì… ê¸°ë³¸ í˜•ì‹)
       * 20260122: [
          { title: "ê·¸ë¦¬ë“œareaì˜ˆì œ", file: "ê·¸ë¦¬ë“œareaì˜ˆì œ.html" },
          {
            folder: "MobileFirst",
            children: [
              {
                title: "index",
                file: "index.html",
                css: ["css/style.css","css/reset.css"],
                js: "js/script.js",
              },
            ],
          },
        ]};
        csíŒŒì¼ or jsíŒŒì¼ì´ ì—¬ëŸ¬ê°œì¼ ê²½ìš° [] ë°°ì—´ ì‚¬ìš©
       */
      const diaryData = {
        20260122: [
          { title: "ì›¹ë¬¸ì„œë§Œë“¤ê¸°", file: "index.html" },
          { title: "í‘œ ë§Œë“¤ê¸°", file: "table.html" },
          { title: "ë¸Œë¼ìš°ì € ì¢…ë¥˜", file: "ë¸Œë¼ìš°ì €ì¢…ë¥˜.html" },
          { title: "ì‹œë©˜í‹± íƒœê·¸", file: "ì‹œë©˜í‹±íƒœê·¸.html" },
          { title: "ìê¸°ì†Œê°œ", file: "ìê¸°ì†Œê°œ.html" },
          { title: "íƒœê·¸ ì—°ìŠµ", file: "íƒœê·¸ì—°ìŠµ.html" },
          { title: "í•˜ì´í¼ ë§í¬", file: "í•˜ì´í¼ë§í¬.html" },
        ],
        20260123: [
          { title: "aìš”ì†Œë§í¬ìƒ‰ìƒ", file: "aìš”ì†Œë§í¬ìƒ‰ìƒ.html" },
          { title: "breakpoint", file: "breakpoint_test.html" },
          { title: "cssì˜ˆì œ", file: "cssì˜ˆì œ.html" },
          { title: "cssì˜ˆì œ2", file: "cssì˜ˆì œ2.html" },
          { title: "Elvis", file: "Elvis.html" },
          { title: "ì˜¤ë””ì˜¤ë¹„ë””ì˜¤", file: "ì˜¤ë””ì˜¤ë¹„ë””ì˜¤.html" },
          { title: "ì ì‹¬ë©”ë‰´", file: "ì ì‹¬ë©”ë‰´.html" },
          { title: "í…ìŠ¤íŠ¸ê¾¸ë¯¸ê¸°", file: "í…ìŠ¤íŠ¸ê¾¸ë¯¸ê¸°.html" },
          { title: "í˜ì´ì§€ì•ˆì˜ë§í¬", file: "í˜ì´ì§€ì•ˆì˜ë§í¬.html" },
          { title: "í¼ê´€ë ¨íƒœê·¸", file: "í¼ê´€ë ¨íƒœê·¸.html" },
          { title: "í¼íƒœê·¸ì˜ˆì œ", file: "í¼íƒœê·¸ì˜ˆì œ.html", css: "style.css" },
          { title: "íšŒì›ê°€ì…ì˜ˆì œ", file: "íšŒì›ê°€ì…ì˜ˆì œ.html" },
        ],
        20260126: [
          { title: "background", file: "background.html" },
          { title: "backgroundScroll", file: "backgroundScroll.html" },
          { title: "backgroundScroll2", file: "backgroundScroll2.html" },
          { title: "border", file: "border.html" },
          { title: "box-sizing", file: "box-sizing.html" },
          { title: "float01", file: "float01.html" },
          { title: "float02", file: "float02.html" },
          { title: "float03", file: "float03.html" },
          { title: "gradient01", file: "gradient01.html" },
          { title: "grid", file: "grid.html" },
          { title: "gridì˜ˆì œ", file: "gridì˜ˆì œ.html" },
          { title: "readonlyì†ì„±", file: "readonlyì†ì„±.html" },
          { title: "shadow", file: "shadow.html" },
          { title: "ë„¤ì´ë²„í¼", file: "ë„¤ì´ë²„í¼.html", css: "naver_form.css" },
          { title: "ë°•ìŠ¤ëª¨ë¸í™œìš©", file: "ë°•ìŠ¤ëª¨ë¸í™œìš©.html" },
          { title: "ë¸”ë¡ìš”ì†Œë¡œë°”ê¾¸ê¸°", file: "ë¸”ë¡ìš”ì†Œë¡œë°”ê¾¸ê¸°.html" },
          { title: "í˜¸ë²„ë©”ë‰´ì˜ˆì œ", file: "í˜¸ë²„ë©”ë‰´ì˜ˆì œ.html" },
          { title: "í˜¸ë²„ë²„íŠ¼", file: "í˜¸ë²„ë²„íŠ¼.html" },
        ],
        20260127: [
          { title: "position_absolute", file: "position_absolute.html" },
          { title: "position_relative", file: "position_relative.html" },
          { title: "ë“œë¡­ë‹¤ìš´", file: "ë“œë¡­ë‹¤ìš´.html" },
          { title: "ë“œë¡­ë‹¤ìš´2", file: "ë“œë¡­ë‹¤ìš´2.html" },
          { title: "ë¸”ë£¨ë³´í‹€", file: "ë¸”ë£¨ë³´í‹€.html", css: "style.css" },
          { title: "í”Œë ‰ìŠ¤ë°•ìŠ¤", file: "í”Œë ‰ìŠ¤ë°•ìŠ¤.html" },
          { title: "í”Œë ‰ìŠ¤ë°•ìŠ¤ê³¼ì œ", file: "í”Œë ‰ìŠ¤ë°•ìŠ¤ê³¼ì œ.html" },
          { title: "í”Œë ‰ìŠ¤ë°•ìŠ¤ê³¼ì œ2", file: "í”Œë ‰ìŠ¤ë°•ìŠ¤ê³¼ì œ2.html" },
        ],
        20260128: [
          { title: "matrix", file: "matrix.html" },
          { title: "overflow", file: "overflow.html" },
          { title: "rotate", file: "rotate.html" },
          { title: "rotate3D", file: "rotate3D.html" },
          { title: "scale", file: "scale.html" },
          { title: "skew", file: "skew.html" },
          { title: "transition", file: "transition.html" },
          { title: "translate", file: "translate.html" },
          { title: "video", file: "video.html" },
          {
            title: "ë™ì˜ìƒì‘ìš©ì‚¬ì´íŠ¸",
            file: "ë™ì˜ìƒì‘ìš©ì‚¬ì´íŠ¸.html",
            css: "videoWebStyle.css",
          },
          { title: "ë“œë¡­ë‹¤ìš´transition", file: "ë“œë¡­ë‹¤ìš´transition.html" },
          { title: "ìƒëŒ€í°íŠ¸", file: "ìƒëŒ€í°íŠ¸.html" },
          { title: "ì‹ ìƒí’ˆëª©ë¡", file: "ì‹ ìƒí’ˆëª©ë¡.html" },
          { title: "ì°½í¬ê¸°ìƒëŒ€í°íŠ¸", file: "ì°½í¬ê¸°ìƒëŒ€í°íŠ¸.html" },
          { title: "íˆ´íŒíš¨ê³¼", file: "íˆ´íŒíš¨ê³¼.html" },
          {
            title: "í•œêµ­ê¸ˆìœµì£¼íƒê³µì‚¬í˜ì´ì§€ë§Œë“¤ê¸°",
            file: "í•œêµ­ê¸ˆìœµì£¼íƒê³µì‚¬í˜ì´ì§€ë§Œë“¤ê¸°.html",
            css: "style.css",
          },
        ],
        20260129: [
          { title: "animation01", file: "animation01.html" },
          { title: "animation02", file: "animation02.html" },
          { title: "animation03", file: "animation03.html" },
          {
            title: "hfë¯¸ë””ì–´í“¨ë¦¬ì ìš©",
            file: "hfë¯¸ë””ì–´í“¨ë¦¬ì ìš©.html",
            css: "style.css",
          },
          { title: "listStyle", file: "listStyle.html" },
          { title: "nth-of-type", file: "nth-of-type.html" },
          { title: "nth-of-type02", file: "nth-of-type02.html" },
          { title: "opacity_hover", file: "opacity_hover.html" },
          { title: "ë¯¸ë””ì–´í“¨ë¦¬", file: "ë¯¸ë””ì–´í“¨ë¦¬.html" },
          { title: "ë¯¸ë””ì–´í“¨ë¦¬2", file: "ë¯¸ë””ì–´í“¨ë¦¬2.html" },
          { title: "ë¯¸ë””ì–´í“¨ë¦¬3", file: "ë¯¸ë””ì–´í“¨ë¦¬3.html" },
          { title: "ë¯¸ë””ì–´í“¨ë¦¬ë©”ë‰´ë°”", file: "ë¯¸ë””ì–´í“¨ë¦¬ë©”ë‰´ë°”.html" },
          { title: "ì—ë‹ˆë©”ì´ì…˜ì˜ˆì œ", file: "ì—ë‹ˆë©”ì´ì…˜ì˜ˆì œ.html" },
          {
            folder: "pageLinkEX",
            children: [
              { title: "index", file: "index.html" },
              { title: "page", file: "page.html" },
              { title: "blog", file: "blog.html" },
              { title: "about", file: "about.html" },
              { title: "contact", file: "contact.html" },
            ],
          },
        ],
        20260130: [
          { title: "grid2", file: "grid2.html" },
          { title: "grid3", file: "grid3.html" },
          { title: "grid4", file: "grid4.html" },
          { title: "hfë°•ìŠ¤ë³µìŠµ", file: "hfë°•ìŠ¤ë³µìŠµ.html" },
          { title: "ê·¸ë¦¬ë“œareaì˜ˆì œ", file: "ê·¸ë¦¬ë“œareaì˜ˆì œ.html" },
          {
            folder: "MobileFirst",
            children: [
              {
                title: "index",
                file: "index.html",
                css: ["css/style.css", "css/reset.css"],
                js: "js/script.js",
              },
            ],
          },
          {
            folder: "ìŠ¤íƒ€ë²…ìŠ¤",
            children: [
              {
                title: "index",
                file: "index.html",
                css: "css/style.css",
                js: "js/main.js",
              },
            ],
          },
        ],

        20260202: [
          { title: "toggle", file: "toggle.html" },
          { title: "íƒ­ë²„íŠ¼css", file: "íƒ­ë²„íŠ¼css.html" },
          { title: "íƒ­ë²„íŠ¼cssì• ë‹ˆë©”ì´ì…˜", file: "íƒ­ë²„íŠ¼cssì• ë‹ˆë©”ì´ì…˜.html" },
        ]
      };

      // [ê¸€ë¡œë²Œ ìƒíƒœ ê´€ë¦¬ ë³€ìˆ˜]
      let editor = null;
      let currentFile = null;
      let currentBasePath = "";

      // [Monaco Editor ì´ˆê¸° ì„¤ì •]
      require.config({
        paths: {
          vs: "https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs",
        },
      });
      require(["vs/editor/editor.main"], function () {
        editor = monaco.editor.create(document.getElementById("editor-pane"), {
          value: "// íŒŒì¼ì„ ì„ íƒí•˜ë©´ ì½”ë“œê°€ ì—¬ê¸°ì— ë‚˜íƒ€ë‚©ë‹ˆë‹¤.",
          language: "html",
          theme: "vs-dark",
          automaticLayout: true,
          readOnly: true,
          fontSize: 14,
          minimap: { enabled: true },
        });
      });

      /**
       * ì†ŒìŠ¤ ì½”ë“œë¥¼ ì„œë²„ì—ì„œ ê°€ì ¸ì™€ ì—ë””í„°ì— ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜
       */
      async function fetchCodeToEditor(path, language) {
        try {
          const response = await fetch(path);
          if (!response.ok) throw new Error("íŒŒì¼ ë¡œë“œ ì‹¤íŒ¨");
          const codeText = await response.text();

          const model = monaco.editor.createModel(codeText, language);
          editor.setModel(model);
        } catch (err) {
          editor.setValue(`// Error: ${err.message}\n// Path: ${path}`);
        }
      }

      /**
       * [íƒ­ ë™ì  ìƒì„± í•¨ìˆ˜]
       * ì„ íƒí•œ íŒŒì¼ì˜ ë°ì´í„° êµ¬ì„±ì„ ë¶„ì„í•˜ì—¬ ìƒë‹¨ íƒ­ ë²„íŠ¼ë“¤ì„ ë‹¤ì‹œ ë§Œë“­ë‹ˆë‹¤.
       */
      function renderTabs(item, basePath) {
        const tabBar = document.getElementById("tab-bar");
        tabBar.innerHTML = ""; // ê¸°ì¡´ íƒ­ ì´ˆê¸°í™”

        // íƒ­ êµ¬ì„± ë°ì´í„° ë¹Œë“œ (ê¸°ë³¸ì ìœ¼ë¡œ Previewì™€ HTMLì€ í¬í•¨)
        const tabConfigs = [
          {
            label: "Preview",
            type: "preview",
            path: `${basePath}/${item.file}`,
          },
          { label: "HTML", type: "html", path: `${basePath}/${item.file}` },
        ];

        // CSS íŒŒì¼ ì¶”ê°€ (ë¬¸ìì—´ í˜¹ì€ ë°°ì—´ ëª¨ë‘ ì²˜ë¦¬ ê°€ëŠ¥)
        if (item.css) {
          const cssFiles = Array.isArray(item.css) ? item.css : [item.css];
          cssFiles.forEach((p) => {
            const fileName = p.split("/").pop(); // ê²½ë¡œì—ì„œ íŒŒì¼ëª…ë§Œ ì¶”ì¶œ
            tabConfigs.push({
              label: fileName,
              type: "css",
              path: `${basePath}/${p}`,
            });
          });
        }

        // JS íŒŒì¼ ì¶”ê°€
        if (item.js) {
          const jsFiles = Array.isArray(item.js) ? item.js : [item.js];
          jsFiles.forEach((p) => {
            const fileName = p.split("/").pop();
            tabConfigs.push({
              label: fileName,
              type: "javascript",
              path: `${basePath}/${p}`,
            });
          });
        }

        // ìƒì„±ëœ ì„¤ì •ì„ ë°”íƒ•ìœ¼ë¡œ ì‹¤ì œ íƒ­ ë²„íŠ¼ ìƒì„±
        tabConfigs.forEach((cfg, idx) => {
          const tab = document.createElement("div");
          tab.className = "tab" + (idx === 0 ? " active" : "");
          tab.textContent = cfg.label;

          tab.onclick = () => {
            // íƒ­ í™œì„±í™” UI ì²˜ë¦¬
            document
              .querySelectorAll(".tab")
              .forEach((t) => t.classList.remove("active"));
            tab.classList.add("active");

            if (cfg.type === "preview") {
              document.getElementById("preview-pane").style.display = "block";
              document.getElementById("editor-pane").style.display = "none";
            } else {
              document.getElementById("preview-pane").style.display = "none";
              document.getElementById("editor-pane").style.display = "block";
              // ì—ë””í„°ì— í•´ë‹¹ ì½”ë“œ ë¡œë“œ
              fetchCodeToEditor(cfg.path, cfg.type);
            }
          };
          tabBar.appendChild(tab);
        });
      }

      /**
       * [ì‚¬ì´ë“œë°” íŠ¸ë¦¬ ë©”ë‰´ ìƒì„± í•¨ìˆ˜ (ì¬ê·€)]
       */
      const container = document.getElementById("file-list-container");
      const iframe = document.getElementById("main-iframe");
      const placeholder = document.getElementById("no-selection");

      function renderTree(items, parent, currentPath) {
        items.forEach((item) => {
          if (item.folder) {
            // í´ë”ì¼ ë•Œ: details/summary ìƒì„±
            const det = document.createElement("details");
            const sum = document.createElement("summary");
            sum.textContent = item.folder;
            det.appendChild(sum);
            // ìì‹ë“¤ì„ ìœ„í•´ ë‹¤ì‹œ í˜¸ì¶œ (ê²½ë¡œ ëˆ„ì )
            renderTree(item.children, det, `${currentPath}/${item.folder}`);
            parent.appendChild(det);
          } else {
            // íŒŒì¼ì¼ ë•Œ: ë§í¬ ìƒì„±
            const a = document.createElement("a");
            a.href = `${currentPath}/${item.file}`;
            a.target = "viewer";
            a.className = "file-link";
            a.textContent = item.title;

            a.onclick = function (e) {
              document
                .querySelectorAll(".file-link")
                .forEach((el) => el.classList.remove("active"));
              this.classList.add("active");

              currentFile = item;
              currentBasePath = currentPath;

              placeholder.style.display = "none";
              iframe.style.display = "block";

              // íŒŒì¼ í´ë¦­ ì‹œ íƒ­ì„ ìƒˆë¡œ ìƒì„±í•˜ê³  í•­ìƒ 'Preview'ë¥¼ ë¨¼ì € ë³´ì—¬ì¤Œ
              renderTabs(item, currentPath);
            };
            parent.appendChild(a);
          }
        });
      }

      // [ì „ì²´ ì´ˆê¸°í™” ì‹¤í–‰]
      function init() {
        Object.keys(diaryData)
          .sort()
          .forEach((date) => {
            const det = document.createElement("details");
            const sum = document.createElement("summary");
            // ë‚ ì§œ í¬ë§· (20260122 -> 2026-01-22)
            sum.textContent = `${date.substring(0, 4)}-${date.substring(4, 6)}-${date.substring(6, 8)}`;
            sum.style.fontWeight = "bold";
            sum.style.color = "#1e40af";
            det.appendChild(sum);
            renderTree(diaryData[date], det, date);
            container.appendChild(det);
          });
      }

      init();
    </script>
  </body>
</html>
