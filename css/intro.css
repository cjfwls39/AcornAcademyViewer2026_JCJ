/* css/intro.css */
#intro-overlay {
    position: fixed; /* 화면에 고정하여 스크롤과 상관없이 전체를 덮음 */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--header-bg); /* style.css에 정의된 어두운 네이비색 활용 */
    display: flex; /* 내부 콘텐츠(캐릭터, 텍스트)를 정렬하기 위함 */
    justify-content: center; /* 가로 중앙 정렬 */
    align-items: center; /* 세로 중앙 정렬 */
    z-index: 9999; /* 다른 모든 요소보다 위에 오도록 설정 */
    transition: opacity 0.5s ease, visibility 0.5s ease; /* 부드럽게 사라지는 효과 */
}

/* 인트로가 사라질 때 js에서 이 클래스를 추가함 */
#intro-overlay.hidden {
    opacity: 0; /* 투명하게 만듦 */
    visibility: hidden; /* 클릭 방지 및 화면에서 완전히 숨김 */
    pointer-events: none; /* 투명한 상태에서 뒷배경 클릭이 가능하도록 설정 */
}

.intro-content-row {
    display: flex;
    align-items: center; /* 캐릭터와 텍스트의 정중앙 높이를 맞춤 */
    gap: 80px; /* 캐릭터와 오른쪽 텍스트 사이의 여유 공간 */
}

/* [캐릭터 바디] 위가 둥근 긴 타원형(뒤집은 U자형) */
.character {
    width: 180px;
    height: 260px;
    background-color: var(--primary-blue); /* 포인트 컬러인 파란색 활용 */
    border-radius: 90px 90px 0 0; /* 위쪽 두 모서리만 둥글게 하여 U자 형태 완성 */
    display: flex;
    justify-content: center;
    align-items: flex-start; /* 눈을 정수리 쪽에 가깝게 배치 */
    padding-top: 60px; /* 정수리에서 눈까지의 거리 */
    gap: 25px; /* 양쪽 눈 사이의 간격 */
    box-shadow: 0 15px 35px rgba(0,0,0,0.4); /* 입체감을 위한 그림자 */
}

/* [눈 흰자] */
.eye {
    width: 44px;
    height: 44px;
    background: white;
    border-radius: 50%; /* 완전한 원형 */
    position: relative; /* 눈동자(pupil)의 절대 위치 기준점이 됨 */
    overflow: hidden; /* 중요: 눈동자가 흰자 영역 밖으로 나가지 못하게 함 */
}

/* [눈동자] 실질적으로 움직이는 요소 */
.pupil {
    width: 20px;
    height: 20px;
    background: var(--header-bg); /* 캐릭터 몸과 대비되는 어두운 색상 */
    border-radius: 50%;
    position: absolute;
    top: 50%; /* 흰자의 중앙에 배치 */
    left: 50%;
    
    /* [성능 최적화 포인트] 
       top/left 대신 transform: translate를 사용하면 
       브라우저가 레이아웃을 다시 계산하지 않고 GPU(그래픽카드)를 사용하여 
       매우 부드럽고 빠르게 움직입니다.
       --eye-x와 --eye-y는 js에서 실시간으로 계산하여 넣어줄 변수입니다.
    */
    transform: translate(calc(-50% + var(--eye-x, 0px)), calc(-50% + var(--eye-y, 0px)));
    
    /* 눈동자가 마우스를 따라갈 때 너무 끊기지 않도록 미세한 지연 시간을 줌 */
    transition: transform 0.05s ease-out; 
}

/* 버튼 그룹: 버튼들을 가로로 나란히 배치 */
.button-group {
    display: flex;
    gap: 15px; /* 버튼 사이 간격 */
}

/* 기존 입장 버튼 스타일 미세 조정 (flex 아이템으로 자연스럽게) */
#enter-btn {
    flex-grow: 1; /* 남은 공간을 차지하도록 설정 */
    text-align: center;
}

/* [닫기(X) 버튼 스타일] */
#close-btn {
    width: 50px; /* 정사각형 모양 */
    height: 50px;
    border-radius: 50%; /* 동그랗게 */
    border: 2px solid #ef4444; /* 빨간색 테두리 (Danger 느낌) */
    background: transparent; /* 배경 투명 */
    color: #ef4444; /* 글자색 빨강 */
    font-size: 1.5rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    justify-content: center;
    align-items: center;
}

#close-btn:hover {
    background: #ef4444; /* 호버 시 배경색 빨강으로 채움 */
    color: white; /* 글자색 흰색으로 변경 */
    transform: rotate(90deg); /* 살짝 돌아가는 효과 */
    box-shadow: 0 0 15px rgba(239, 68, 68, 0.5); /* 붉은색 광채 */
}

/* [캐릭터 눈물 스타일] */
.character {
    /* 눈물 위치 기준점을 잡기 위해 relative 설정 확인 (이미 되어있을 수 있음) */
    position: relative; 
}

.tear {
    width: 12px;
    height: 12px;
    background: #60a5fa; /* 하늘색 눈물 */
    border-radius: 0 50% 50% 50%; /* 물방울 모양 만들기 */
    transform: rotate(45deg); /* 각도 틀어서 물방울 모양 완성 */
    position: absolute;
    top: 90px; /* 눈 바로 밑 위치 */
    opacity: 0; /* 평소엔 숨김 */
    pointer-events: none; /* 마우스 이벤트 방해 안 하게 */
}

.tear-left { left: 65px; } /* 왼쪽 눈 밑 */
.tear-right { right: 65px; } /* 오른쪽 눈 밑 */

/* 눈물이 뚝 떨어지는 애니메이션 정의 */
@keyframes tear-drop-anim {
    0% {
        opacity: 1;
        transform: translateY(0) rotate(45deg) scale(1);
    }
    100% {
        opacity: 0; /* 점점 투명해지며 */
        transform: translateY(60px) rotate(45deg) scale(0.8); /* 아래로 떨어짐 */
    }
}

/* JS가 'falling' 클래스를 붙이면 애니메이션 실행 */
.tear.falling {
    /* 1초 동안 무한 반복하며 떨어짐 */
    animation: tear-drop-anim 1s ease-in infinite;
}
/* 오른쪽 눈물은 약간 엇박자로 떨어지게 딜레이 추가 */
.tear-right.falling {
    animation-delay: 0.3s;
}

/* 텍스트 및 버튼 스타일 */
.text-group h1 { color: white; font-size: 2.5rem; margin-bottom: 10px; }
.text-group p { color: #94a3b8; font-size: 1.1rem; }

#enter-btn {
    padding: 15px 45px;
    background: white;
    color: var(--primary-blue);
    border: none;
    border-radius: 30px;
    font-size: 1.1rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0,0,0,0.2);
}

#enter-btn:hover {
    transform: scale(1.05);
    background-color: #f8fafc;
    box-shadow: 0 6px 20px rgba(37, 99, 235, 0.4);
}